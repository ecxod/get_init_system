- - - - -

title: get_init_system
- - - - -
flowchart TD
    %% Styling
    classDef start fill:#4CAF50,stroke:#45a049,color:#fff
    classDef process fill:#2196F3,stroke:#1976D2,color:#fff
    classDef decision fill:#FFC107,stroke:#FFA000,color:#000
    classDef result fill:#9C27B0,stroke:#7B1FA2,color:#fff
    classDef container fill:#FF5722,stroke:#E64A19,color:#fff

    subgraph Init["Init-System Erkennung"]
        Start[Start]:::start
        Proc1["/proc/1 prüfen"]:::process
        Proc2["Container prüfen"]:::process
        Proc3["Init-Prozess analysieren"]:::process
        
        Start --> Proc1
        Proc1 --> Proc2
        Proc2 --> Proc3
    end
    
    subgraph Service["Service-Manager Erkennung"]
        SM1["Systemd prüfen"]:::process
        SM2["Container prüfen"]:::process
        SM3["Alternativen prüfen"]:::process
        
        SM1 --> SM2
        SM2 --> SM3
    end
    
    subgraph Entscheidungen["Entscheidungspunkte"]
        D1{"Systemd?"}:::decision
        D2{"Container?"}:::decision
        D3{"Init-Typ?"}:::decision
        D4{"Service-Typ?"}:::decision
    end
    
    subgraph Ergebnisse["Ergebnisse"]
        R1["Systemd"]:::result
        R2["Container"]:::result
        R3["SysVinit"]:::result
        R4["OpenRC"]:::result
        R5["Runit"]:::result
        R6["S6"]:::result
        R7["Dinit"]:::result
        R8["Unbekannt"]:::result
    end
    
    Proc1 --> D1
    D1 -->|Ja| R1
    D1 -->|Nein| D2
    
    Proc2 --> D2
    D2 -->|Ja| R2
    D2 -->|Nein| D3
    
    Proc3 --> D3
    D3 -->|Systemd| R1
    D3 -->|SysVinit| R3
    D3 -->|OpenRC| R4
    D3 -->|Runit| R5
    D3 -->|S6| R6
    D3 -->|Dinit| R7
    D3 -->|Unbekannt| R8
    
    SM1 --> D1
    D1 -->|Ja| R1
    D1 -->|Nein| SM2
    
    SM2 --> D2
    D2 -->|Ja| R2
    D2 -->|Nein| D4
    
    SM3 --> D4
    D4 -->|OpenRC| R4
    D4 -->|SysVinit| R3
    D4 -->|Runit| R5
    D4 -->|S6| R6
    D4 -->|Dinit| R7
    D4 -->|Unbekannt| R8
    ```